const db = require('../model')

const readProblem = async (req, res, next) => {
  const queryString = `
  SELECT title from problems;
  `;

  try {
    const results = await db.query(queryString);
    res.locals.problemTitles = results.rows.map(e=>e.title).map(e=>e.trim());

    return next();
  }
  catch (e){
    return next(e);
  }
};

module.exports = readProblem;